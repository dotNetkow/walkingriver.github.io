---
layout: post
title: How I Finally Got AdMob and Ionic Framework to Play Nice Together
date: '2015-05-04T14:55:00.000-04:00'
author: Michael Callaghan
tags: 
modified_time: '2015-06-17T08:16:49.808-04:00'
thumbnail: https://3.bp.blogspot.com/-FIi3hMgcALE/VUea0Rdae0I/AAAAAAAAAXc/HqBaS4jhINU/s72-c/Screen%2BShot%2B2015-05-04%2Bat%2B12.13.24%2BPM.png
---

<span style="background-color: white; font-family: Arial, Helvetica, sans-serif;"><i>Note: Some of the plugins referenced in this article have had their names, and possibly their APIs, changed. The information contained herein may no longer work. Please don't rely on it until I have had a chance to review and update it. -Mike Callaghan</i></span><br /><h2><span style="font-family: Arial, Helvetica, sans-serif;"><span style="background-color: white; font-size: small;">TLDR</span></span></h2><span style="font-family: Arial, Helvetica, sans-serif;"><span style="background-color: white;">This is a summary of how to display ads in my <a href="https://play.google.com/store/apps/details?id=com.ionicframework.mdcl380663&amp;hl=en" target="_blank">MDCL (1650) mobile application</a>, which was written using the <a href="https://ionicframework.com/" target="_blank">Ionic Framework</a>.&nbsp;</span></span>
<!--more-->
<span style="font-family: Arial, Helvetica, sans-serif;">If you want to see the sample project that displays both banner and interstitial ads, you can look at my <a href="https://github.com/walkingriver/admob" target="_blank">AdMob Demo app on GitHub</a>.</span><br /><span style="font-family: Arial, Helvetica, sans-serif;"></span><br /><h2><span style="font-family: Arial, Helvetica, sans-serif;"><span style="background-color: white; font-size: small;">AdMob</span></span></h2><div><span style="font-family: Arial, Helvetica, sans-serif;"><span style="background-color: white;"></span></span><br /><div><span style="font-family: Arial, Helvetica, sans-serif;"><span style="background-color: white;">The first thing that's necessary is to get an AdMob account, which you can create at https://www.google.com/admob/</span></span></div><span style="font-family: Arial, Helvetica, sans-serif;"><span style="background-color: white;"></span></span></div><h3><span style="background-color: white; font-family: Arial, Helvetica, sans-serif;"><span style="font-size: small;">Ionic Starter App</span></span></h3><div><span style="background-color: white;"></span><br /><div><span style="background-color: white;"><span style="font-family: Arial, Helvetica, sans-serif;">If you don't already have an ionic app, you can create one with the following command, which will create a folder named myApp in your current folder, and initialize it with an empty application.</span></span></div><span style="background-color: white;"></span><br /><div><span style="background-color: white;"><b style="color: navy;"><span style="font-family: Courier New, Courier, monospace;">ionic start myApp blank</span></b></span><br /><span style="background-color: white;"><br /></span><br /><h3><span style="background-color: white;"></span></h3></div><span style="background-color: white;"></span></div><div><span style="font-family: Arial, Helvetica, sans-serif;"><span style="background-color: white;"></span></span><br /><h3><span style="font-family: Arial, Helvetica, sans-serif;"><span style="background-color: white;">ngCordova</span></span></h3><span style="font-family: Arial, Helvetica, sans-serif;"><span style="background-color: white;"></span></span><br /><div><div><span style="font-family: Arial, Helvetica, sans-serif;"><span style="background-color: white;">Next, you'll need to install the ngCordova bower package and include that in your project. This script does most of the heaving lifting of wrapping more than 60 Cordova plugins inside of Angular services, making them easier to reference from your Ionic applications. You can do that with this command:</span></span></div></div><span style="font-family: Arial, Helvetica, sans-serif;"><span style="background-color: white;"></span></span><br /><div><pre><span style="font-family: Arial, Helvetica, sans-serif;"><span style="background-color: white;"><span style="color: navy; font-family: inherit;"><b>bower install ngCordova --save</b></span></span></span></pre><h3 style="font-family: Times;"><span style="font-family: Arial, Helvetica, sans-serif;"><span style="background-color: white;"></span></span></h3></div><span style="font-family: Arial, Helvetica, sans-serif;"><span style="background-color: white;"></span></span></div><h3><span style="font-family: Arial, Helvetica, sans-serif;"><span style="background-color: white; font-size: small; white-space: normal;">Angular Module</span></span></h3><span style="font-family: Arial, Helvetica, sans-serif;"><span style="background-color: white; white-space: normal;">Next, we need to make sure that the Angular module that makes up your app is fully aware of the new module, by adding it as a dependency. Open up www/js/app.js and find the angular module declaration. It will look something like this:</span><span style="background-color: white;">&nbsp;</span></span><br /><div><div class="separator" style="clear: both; text-align: center;"><a href="https://3.bp.blogspot.com/-FIi3hMgcALE/VUea0Rdae0I/AAAAAAAAAXc/HqBaS4jhINU/s1600/Screen%2BShot%2B2015-05-04%2Bat%2B12.13.24%2BPM.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="https://3.bp.blogspot.com/-FIi3hMgcALE/VUea0Rdae0I/AAAAAAAAAXc/HqBaS4jhINU/s1600/Screen%2BShot%2B2015-05-04%2Bat%2B12.13.24%2BPM.png" /></a></div><pre></pre><span style="background-color: white; font-family: Arial, Helvetica, sans-serif;">Modify it to look like this instead:</span><br /><div class="separator" style="clear: both; text-align: center;"><a href="https://4.bp.blogspot.com/-D5qQdJ2DIYM/VUebHKtLhWI/AAAAAAAAAXk/CfvECqC7pqQ/s1600/Screen%2BShot%2B2015-05-04%2Bat%2B12.15.05%2BPM.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="https://4.bp.blogspot.com/-D5qQdJ2DIYM/VUebHKtLhWI/AAAAAAAAAXk/CfvECqC7pqQ/s1600/Screen%2BShot%2B2015-05-04%2Bat%2B12.15.05%2BPM.png" /></a></div><pre></pre><pre></pre><pre>&nbsp;</pre><h3><span style="font-family: Arial, Helvetica, sans-serif;"><span style="background-color: white; font-size: small;">Controller, Route, and View</span></span></h3><span style="font-family: Arial, Helvetica, sans-serif;"></span><span style="font-family: Arial, Helvetica, sans-serif;">While you're in there, you may as well set up a default route, a controller, and a simple view. I went ahead and refactored the inline function into a named function called startup, but otherwise left it unchanged. Then I added a controller and a config function. My complete module definition now looks like this;</span><br /><span style="font-family: Arial, Helvetica, sans-serif;"><span style="background-color: white;"></span></span><br /><div class="separator" style="clear: both; text-align: center;"><a href="https://1.bp.blogspot.com/-z9K8E0cEhKk/VUebYW4kk8I/AAAAAAAAAXs/d1hHJNWUtCo/s1600/Screen%2BShot%2B2015-05-04%2Bat%2B12.16.05%2BPM.png" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" src="https://1.bp.blogspot.com/-z9K8E0cEhKk/VUebYW4kk8I/AAAAAAAAAXs/d1hHJNWUtCo/s1600/Screen%2BShot%2B2015-05-04%2Bat%2B12.16.05%2BPM.png" /></a></div><br /><br /><span style="font-family: Arial, Helvetica, sans-serif;"><br /></span><span style="font-family: Arial, Helvetica, sans-serif;">I put my one route in the config function, as shown here:</span><br /><span style="font-family: Arial, Helvetica, sans-serif;"><br /></span><br /><div class="separator" style="clear: both; text-align: center;"><a href="https://4.bp.blogspot.com/-sXAt15ECBMY/VUebkyKYwcI/AAAAAAAAAX0/pq5FRdI1Q1g/s1600/Screen%2BShot%2B2015-05-04%2Bat%2B12.17.05%2BPM.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="https://4.bp.blogspot.com/-sXAt15ECBMY/VUebkyKYwcI/AAAAAAAAAX0/pq5FRdI1Q1g/s1600/Screen%2BShot%2B2015-05-04%2Bat%2B12.17.05%2BPM.png" /></a></div><span style="font-family: Arial, Helvetica, sans-serif;"><br /></span><br /><div style="-webkit-text-stroke-width: 0px; color: black; font-family: Times; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px;"><span style="background-color: white; font-family: Arial, Helvetica, sans-serif;">And finally, my HomeController, where all of the magic happens. Unfortunately, it's too large to show all at once, so I'll present it bite-sized chunks and explain as I go.</span></div><span style="background-color: white; font-family: Arial, Helvetica, sans-serif;"><br /></span><br /><div class="separator" style="clear: both; text-align: center;"><a href="https://2.bp.blogspot.com/-ryoaSciDjmg/VUecET5DF0I/AAAAAAAAAX8/0rmu4ECfV2k/s1600/Screen%2BShot%2B2015-05-04%2Bat%2B12.19.02%2BPM.png" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" src="https://2.bp.blogspot.com/-ryoaSciDjmg/VUecET5DF0I/AAAAAAAAAX8/0rmu4ECfV2k/s1600/Screen%2BShot%2B2015-05-04%2Bat%2B12.19.02%2BPM.png" /></a></div><span style="background-color: white; font-family: Arial, Helvetica, sans-serif;"><br /></span><span style="background-color: white; font-family: Arial, Helvetica, sans-serif;"><br /></span><span style="font-family: Arial, Helvetica, sans-serif;"><span style="background-color: white;"><span style="font-size: small;">You will notice that &nbsp;I named the controller "HomeController," which is how I referred to it in the controller definition and to the $stateProvider. I am also injecting the $cordovaGoogleAds service from ngCordova.</span></span></span></div><div><span style="font-family: Arial, Helvetica, sans-serif;"><span style="background-color: white;"><span style="font-size: small;"><br /></span></span></span></div><div><span style="font-family: Arial, Helvetica, sans-serif;"><span style="background-color: white;"><span style="font-size: small;">At the top of the function, I use a <a href="https://www.johnpapa.net/angularjss-controller-as-and-the-vm-variable/" style="white-space: normal;" target="_blank">pattern borrowed from John Papa</a>. The controller's <i>this</i> variable is saved as a local object called vm, and then every public property I want to expose in the view will be created as a property on this vm object. As an aside,&nbsp;<i>vm </i>stands for "view model," which is from the Model-View-ViewModel pattern popularized in WPF and Silverlight, and still useful in Angular.<i>&nbsp;</i></span></span><br /><span style="background-color: white;"><span style="font-size: small; white-space: normal;"><br /></span></span></span></div><div><span style="font-family: Arial, Helvetica, sans-serif;"><span style="background-color: white;"><span style="font-size: small; white-space: normal;">Next, I create a local variable to hold my AdMob Unit Id, one for banner ads and one for the interstitial (full-page) ads. I have removed my actual unit IDs. You'll want to replace those values with your own.</span></span></span></div><div><span style="font-family: Arial, Helvetica, sans-serif;"><br /></span></div><div><div class="separator" style="clear: both; text-align: center;"><a href="https://3.bp.blogspot.com/-p1gXS1GVHWY/VUeckhraPoI/AAAAAAAAAYE/oFhFxJiBQpY/s1600/Screen%2BShot%2B2015-05-04%2Bat%2B12.21.23%2BPM.png" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" src="https://3.bp.blogspot.com/-p1gXS1GVHWY/VUeckhraPoI/AAAAAAAAAYE/oFhFxJiBQpY/s1600/Screen%2BShot%2B2015-05-04%2Bat%2B12.21.23%2BPM.png" /></a></div><pre></pre><pre></pre><span style="font-family: Arial, Helvetica, sans-serif;"><span style="background-color: white; white-space: normal;"><br /></span></span></div><div><span style="font-family: Arial, Helvetica, sans-serif;"><span style="background-color: white; white-space: normal;">Next, I create a &nbsp;listener for cordova 'deviceread' event. If you don't do this, your controller will probably execute before cordova is finished initializing, and then nothing will work.&nbsp;</span></span></div><div><span style="font-family: Arial, Helvetica, sans-serif;"><br /></span><br /><div class="separator" style="clear: both; text-align: center;"><a href="https://2.bp.blogspot.com/-k5bJvKQygxY/VUec7fYICfI/AAAAAAAAAYM/M7Fr7zIEv-E/s1600/Screen%2BShot%2B2015-05-04%2Bat%2B12.22.49%2BPM.png" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" src="https://2.bp.blogspot.com/-k5bJvKQygxY/VUec7fYICfI/AAAAAAAAAYM/M7Fr7zIEv-E/s1600/Screen%2BShot%2B2015-05-04%2Bat%2B12.22.49%2BPM.png" /></a></div><span style="font-family: Arial, Helvetica, sans-serif;"><br /></span></div><div><pre></pre></div><div><pre><span style="background-color: white; font-family: Arial, Helvetica, sans-serif; font-size: small; white-space: normal;">The call to $scope.$apply() is only necessary to update the view with the text for vm.adSupport. Because the event fires outside of Angular's normal digest cycle, Angular doesn't know the value has changed.&nbsp;</span></pre><pre><span style="background-color: white; font-family: Arial, Helvetica, sans-serif; font-size: small; white-space: normal;"><br /></span></pre><pre><span style="background-color: white; font-family: Arial, Helvetica, sans-serif; font-size: small; white-space: normal;">Now let's look at the setupAds function that was referenced above.</span></pre><pre><span style="background-color: white; font-family: Arial, Helvetica, sans-serif; font-size: small; white-space: normal;"><br /></span></pre><div class="separator" style="clear: both; text-align: center;"><a href="https://3.bp.blogspot.com/-e7Gkt0C7164/VUedZ2AwBAI/AAAAAAAAAYU/3Jkk6f5jGdE/s1600/Screen%2BShot%2B2015-05-04%2Bat%2B12.24.49%2BPM.png" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" src="https://3.bp.blogspot.com/-e7Gkt0C7164/VUedZ2AwBAI/AAAAAAAAAYU/3Jkk6f5jGdE/s1600/Screen%2BShot%2B2015-05-04%2Bat%2B12.24.49%2BPM.png" /></a></div><pre><span style="background-color: white; font-family: Arial, Helvetica, sans-serif; font-size: small; white-space: normal;"><br /></span></pre><pre><pre><span style="font-family: inherit;"><span style="background-color: white;">&nbsp;&nbsp;&nbsp;</span></span></pre></pre><pre></pre><pre><span style="background-color: white; font-family: Arial, Helvetica, sans-serif; font-size: small; white-space: normal;">Here I am calling into the ngCordova wrapper to create a banner ad. This function takes a single parameter, which is an options object. There are a lot more options, but this is about the smallest set you can send. We pass the AdMob Unit ID, tell it where to display, and to display it automatically.&nbsp;</span></pre></div><div><span style="font-family: Arial, Helvetica, sans-serif;"><br /><span style="background-color: white; font-size: small; white-space: normal;">Take a close look at the position attribute. This reveals an interesting fact about ngCordova. Even though the plugin is wrapped in an Angular factory, it is still accessible on the $window object. This comes in handy in this case, because the ngCordova wrapper does not expose the AD_POSITION.BOTTOM_CENTER constant.&nbsp;</span></span><br /><span style="font-family: Arial, Helvetica, sans-serif;"><span style="background-color: white; font-size: small; white-space: normal;"><br /></span><span style="background-color: white; font-size: small; white-space: normal;">The next code block prepares, but does not automatically show, a full-page ad. I prepare it now so that it will be available when it is needed later, such as on a button click, a page transition, or any other convenient time.</span><span style="background-color: white;">&nbsp;</span></span></div><div><br /><div class="separator" style="clear: both; text-align: center;"><a href="https://4.bp.blogspot.com/-vsrMuCOkqIs/VUeeWfOwk0I/AAAAAAAAAYk/oTSM7QoO2UA/s1600/Screen%2BShot%2B2015-05-04%2Bat%2B12.28.50%2BPM.png" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" src="https://4.bp.blogspot.com/-vsrMuCOkqIs/VUeeWfOwk0I/AAAAAAAAAYk/oTSM7QoO2UA/s1600/Screen%2BShot%2B2015-05-04%2Bat%2B12.28.50%2BPM.png" /></a></div><br /></div><div><span style="font-family: Arial, Helvetica, sans-serif;"><br /><span style="background-color: white; font-size: small; white-space: normal;">Finally, this next function is attached to vm.showFullAd, which I will be attaching to a button on my view later.&nbsp;</span></span><br /><span style="font-family: Arial, Helvetica, sans-serif;"><span style="background-color: white; font-size: small; white-space: normal;"><br /></span></span><a href="https://3.bp.blogspot.com/-Tf5sHsIkNbA/VUee46y-otI/AAAAAAAAAYs/Wzi8nQ-99mA/s1600/Screen%2BShot%2B2015-05-04%2Bat%2B12.31.07%2BPM.png" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" src="https://3.bp.blogspot.com/-Tf5sHsIkNbA/VUee46y-otI/AAAAAAAAAYs/Wzi8nQ-99mA/s1600/Screen%2BShot%2B2015-05-04%2Bat%2B12.31.07%2BPM.png" /></a><span style="font-family: Arial, Helvetica, sans-serif;"><span style="background-color: white; font-size: small; white-space: normal;"><br /></span></span><br /><span style="font-family: Arial, Helvetica, sans-serif;"><span style="background-color: white; font-size: small; white-space: normal;"><br /></span></span><span style="font-family: Arial, Helvetica, sans-serif;"><span style="background-color: white; font-size: small; white-space: normal;">One oddity I noticed is that once the ad is shown, it won't show again unless it prepared again. So I prepare a new one immediately after I show the first one. It's a bit of code duplication, but hey, this is a demo.</span>&nbsp;</span></div><div><h2></h2></div><div><h2><span style="font-family: Arial, Helvetica, sans-serif;"><span style="background-color: white; font-size: small;">HTML</span></span></h2><div><span style="font-family: Arial, Helvetica, sans-serif;"><span style="background-color: white;">Now it's time to wire the controller to the view.</span></span></div><h3><span style="font-family: Arial, Helvetica, sans-serif;"><span style="background-color: white; font-size: small;">index.html &nbsp;</span></span></h3><span style="background-color: white; font-family: Arial, Helvetica, sans-serif;">First, we need to make sure the ngCordova script is loaded with the rest of our application. Open up www/index.html and find the line that reads:</span><br /><div><span style="font-family: Arial, Helvetica, sans-serif;"><span style="background-color: white;"><span style="font-family: Arial, Helvetica, sans-serif;"><span style="background-color: white;"></span></span></span></span><br /><div><span style="font-family: Arial, Helvetica, sans-serif;"><span style="background-color: white;"><span style="font-family: Arial, Helvetica, sans-serif;"><span style="background-color: white;"><br /></span></span></span></span><br /><div class="separator" style="clear: both; text-align: center;"><a href="https://2.bp.blogspot.com/-XA83_hXTkP4/VUe95b1x-TI/AAAAAAAAAZI/LQOjoUTy4NI/s1600/Screen%2BShot%2B2015-05-04%2Bat%2B2.42.46%2BPM.png" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" src="https://2.bp.blogspot.com/-XA83_hXTkP4/VUe95b1x-TI/AAAAAAAAAZI/LQOjoUTy4NI/s1600/Screen%2BShot%2B2015-05-04%2Bat%2B2.42.46%2BPM.png" /></a></div><span style="font-family: Arial, Helvetica, sans-serif;"><span style="background-color: white;"><span style="font-family: Arial, Helvetica, sans-serif;"><span style="background-color: white;"><br /></span></span></span></span><br /><div class="separator" style="clear: both; text-align: center;"></div><span style="background-color: white; font-family: Arial, Helvetica, sans-serif;">Now edit it to look like this</span><span style="background-color: white; font-family: Arial, Helvetica, sans-serif;">:</span><br /><span style="background-color: white; font-family: Arial, Helvetica, sans-serif;"><br /></span><br /><div class="separator" style="clear: both; text-align: center;"><a href="https://3.bp.blogspot.com/-duHPpCKOH3o/VUe-HxFImYI/AAAAAAAAAZQ/YjLTfYK6YT8/s1600/Screen%2BShot%2B2015-05-04%2Bat%2B2.44.32%2BPM.png" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" src="https://3.bp.blogspot.com/-duHPpCKOH3o/VUe-HxFImYI/AAAAAAAAAZQ/YjLTfYK6YT8/s1600/Screen%2BShot%2B2015-05-04%2Bat%2B2.44.32%2BPM.png" /></a></div><span style="background-color: white; font-family: Arial, Helvetica, sans-serif;"><br /></span></div></div><span style="background-color: white;"></span><br /><div><div style="font-family: Arial, Helvetica, sans-serif;"><span style="background-color: white;"><span style="font-family: Arial, Helvetica, sans-serif;"><span style="background-color: white;"><br /></span></span></span></div><div style="font-family: Arial, Helvetica, sans-serif;"><span style="background-color: white;"><span style="font-family: Arial, Helvetica, sans-serif;"><span style="background-color: white;"></span></span></span></div><div><pre></pre></div><div style="font-family: Arial, Helvetica, sans-serif;"></div></div><span style="background-color: white;"></span><span style="background-color: white; font-family: Arial, Helvetica, sans-serif;">It's worth opening that file and reviewing its contents. You'll notice that each plugin is implemented as an Angular factory. Also notice the two comments that preceed each one. The first is the command that will install the plugin, and the other is a link to its source on github.com. I learned the hard way that just having ngCordova doesn't actually accomplish anything unless you install the plugin first. In retrospect, this makes sense and is even somewhat obvious. ngCordova doesn't include the plugins, but simply provides a convenient abstraction over them, assuming they exist.</span><br /><span style="background-color: white; font-family: Arial, Helvetica, sans-serif;"><br /></span><span style="font-family: Arial, Helvetica, sans-serif;">In the case of AdMob, there are actually two of them in the script. I wrestled with the first one for awhile, $cordovaAdMob, before giving up and trying the second one, $cordovaGoogleAds. That one is based on a different plugin, and I found it much simpler to use, although it appears to be a little incomplete, as I alluded to earlier with the lack of some common options constants.</span><br /><span style="font-family: Arial, Helvetica, sans-serif;"><br /></span><span style="font-family: Arial, Helvetica, sans-serif;">Finally, replace the entire HTML body with this:</span><br /><span style="font-family: Arial, Helvetica, sans-serif;"><br /></span><br /><div class="separator" style="clear: both; text-align: center;"><a href="https://4.bp.blogspot.com/-NRRd4Mer16I/VUe-dGb0RAI/AAAAAAAAAZY/POjcQMgt1oY/s1600/Screen%2BShot%2B2015-05-04%2Bat%2B2.45.51%2BPM.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="https://4.bp.blogspot.com/-NRRd4Mer16I/VUe-dGb0RAI/AAAAAAAAAZY/POjcQMgt1oY/s1600/Screen%2BShot%2B2015-05-04%2Bat%2B2.45.51%2BPM.png" /></a></div><span style="font-family: Arial, Helvetica, sans-serif;"><br /></span><span style="font-family: Arial, Helvetica, sans-serif;"><br /></span><span style="background-color: white; font-family: Arial, Helvetica, sans-serif;">Ionic will put your view's content inside the &lt;<span style="color: #990000;">ion-nav-view</span>&gt;&nbsp;</span><ion-nav-view style="font-family: Arial, Helvetica, sans-serif;">tag. We'll create that content next.</ion-nav-view><br /><h3><span style="background-color: white; font-family: Arial, Helvetica, sans-serif; font-size: small;"><ion-nav-view>home.html</ion-nav-view></span></h3><span style="background-color: white; font-family: Arial, Helvetica, sans-serif;">Remember way back when I created the route in the $stateProvider? I also provided the name of a view, an HTML fragment that I put in www/templates/home.html. If you are following along, you'll want to create that folder and file now. Delete all of the default HTML and enter this instead.</span><br /><span style="background-color: white; font-family: Arial, Helvetica, sans-serif;"><br /></span><br /><div class="separator" style="clear: both; text-align: center;"></div><div class="separator" style="clear: both; text-align: center;"><a href="https://2.bp.blogspot.com/-DdqMAigvJUY/VUe_I9tyrLI/AAAAAAAAAZo/UhmJvUBHKjw/s1600/Screen%2BShot%2B2015-05-04%2Bat%2B2.48.44%2BPM.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="https://2.bp.blogspot.com/-DdqMAigvJUY/VUe_I9tyrLI/AAAAAAAAAZo/UhmJvUBHKjw/s1600/Screen%2BShot%2B2015-05-04%2Bat%2B2.48.44%2BPM.png" /></a></div><span style="background-color: white; font-family: Arial, Helvetica, sans-serif;"><br /></span><span style="background-color: white; font-family: Arial, Helvetica, sans-serif;"><br /></span><span style="background-color: white; font-family: Arial, Helvetica, sans-serif;">The first line sets the page title. The <ion-content> tag tells Ionic where our content is defined. Inside of that I have a few&nbsp;</ion-content></span><span style="background-color: white; font-family: Arial, Helvetica, sans-serif;">tags to make things look nice. The real meat is the&nbsp;</span><span style="font-family: Arial, Helvetica, sans-serif;">tag that displays a controller variable indicating whether or not ad support was successfully initialized, and the button that can be clicked to display a full-page ad. The button is wired to my showFullAd function on the controller, and is only enabled if the adSupport is truthy.</span><br /><div><span style="font-family: Arial, Helvetica, sans-serif;"><br /></span></div><span style="background-color: white; font-family: Arial, Helvetica, sans-serif;">Now let's wrap everything up and see it in action.</span><br /><h3><span style="background-color: white; font-family: Arial, Helvetica, sans-serif; font-size: small;">AdMob Plugin</span></h3><span style="background-color: white; font-family: Arial, Helvetica, sans-serif;">I mentioned earlier that ngCordova still requires the plugin to be installed. Let's do that now. However, instead of using the cordova command, I'm going to use the ionic command. The difference is that the ionic command will also update my package.json file. Ionic has a command to restore your plugins from the package.json file, which comes in handy if you ever want someone else to build your app from source control. You don't want to store your plugins in source contr</span><span style="background-color: white; font-family: inherit;">ol.</span><br /><pre style="-webkit-text-stroke-width: 0px; color: black; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: 1; word-spacing: 0px;"></pre><pre style="-webkit-text-stroke-width: 0px; color: black; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: 1; word-spacing: 0px;"></pre><pre style="-webkit-text-stroke-width: 0px; color: black; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: 1; word-spacing: 0px;"></pre><br /><pre style="-webkit-text-stroke-width: 0px; color: black; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: 1; word-spacing: 0px;"><span style="color: navy; font-family: Courier New, Courier, monospace;"><b style="background-color: white;">ionic plugin add com.google.cordova.admob</b></span></pre><span style="background-color: white; font-family: inherit;"><br /></span><br /><div><span style="font-family: Arial, Helvetica, sans-serif;">To restore the plugins later if the plugins folder gets deleted, you can run the following two commands:</span><br /><b style="background-color: white; color: navy; font-family: 'Courier New', Courier, monospace;">ionic state restore</b><br /><pre><span style="color: navy; font-family: Courier New, Courier, monospace;"><b style="background-color: white;">ionic platform add</b></span></pre><h2><span style="background-color: white; font-family: Arial, Helvetica, sans-serif; font-size: small;">Let's See it!</span></h2><span style="background-color: white; font-family: Arial, Helvetica, sans-serif;">Finally, it's time to see your handiwork. If you followed along, and neither of us made any mistakes, simply run this command, stand back, and watch.</span></div><div><pre><span style="color: navy; font-family: Courier New, Courier, monospace;"><b style="background-color: white;">ionic emulate ios</b></span></pre><span style="color: navy; font-family: Arial, Helvetica, sans-serif;"><span style="background-color: white;">or</span></span><br /><div style="-webkit-text-stroke-width: 0px; color: black; font-family: Times; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px;"><pre><span style="color: navy; font-family: Courier New, Courier, monospace;"><b style="background-color: white;">ionic run android</b></span></pre></div><span style="color: navy; font-family: Arial, Helvetica, sans-serif;"><b style="background-color: white;"><br /></b></span><span style="background-color: white; font-family: Arial, Helvetica, sans-serif;">Use whichever one makes sense for your own environment. I don't recommend using the android emulator, because the emulator is so slow, and running on a real device is so simple. With iOS, the opposite is true.</span></div><div><span style="background-color: white; font-family: Arial, Helvetica, sans-serif;"><br /></span></div><div><span style="background-color: white; font-family: Arial, Helvetica, sans-serif;">If all went well, your page should look like this, with Google's AdMob test banner ad shown at the bottom of the screen.&nbsp;</span></div><div><span style="background-color: white; font-family: Arial, Helvetica, sans-serif;"><br /></span></div><div><div class="separator" style="clear: both; text-align: center;"><a href="https://1.bp.blogspot.com/-pFPNPjfPGdY/VTgNynWkvtI/AAAAAAAAAWc/T4YFwqEuYFQ/s1600/AdMobBanner.png" imageanchor="1" style="background-color: white; margin-left: 1em; margin-right: 1em;"><span style="font-family: Arial, Helvetica, sans-serif;"><img border="0" height="640" src="https://1.bp.blogspot.com/-pFPNPjfPGdY/VTgNynWkvtI/AAAAAAAAAWc/T4YFwqEuYFQ/s1600/AdMobBanner.png" width="348" /></span></a></div><span style="font-family: Arial, Helvetica, sans-serif;"><span style="background-color: white;"><br /></span></span><br /><div><span style="background-color: white; font-family: Arial, Helvetica, sans-serif;">Click the button to display a full-page ad.&nbsp;</span></div><span style="font-family: Arial, Helvetica, sans-serif;"><br /></span><br /><div class="separator" style="clear: both; text-align: center;"><a href="https://4.bp.blogspot.com/-ZkU5lxFN5tY/VTgNylgydSI/AAAAAAAAAWg/dhXtrb776nY/s1600/AdMobFull.png" imageanchor="1" style="background-color: white; margin-left: 1em; margin-right: 1em;"><span style="font-family: Arial, Helvetica, sans-serif;"><img border="0" height="640" src="https://4.bp.blogspot.com/-ZkU5lxFN5tY/VTgNylgydSI/AAAAAAAAAWg/dhXtrb776nY/s1600/AdMobFull.png" width="348" /></span></a></div><span style="background-color: white; font-family: Arial, Helvetica, sans-serif;"><br /></span></div><h2><span style="background-color: white; font-family: Arial, Helvetica, sans-serif; font-size: small;">Wrapping Up</span></h2></div><div><span style="background-color: white;"></span><br /><div><span style="background-color: white;"><span style="font-family: Arial, Helvetica, sans-serif;">Getting the AdMob ads to display in my app wasn't as easy as I'd hoped, but it's working now. If you know of a better, easier way, please feel free to comment here. I'm also eager to accept pull requests on my sample github project.</span></span></div><span style="background-color: white;"></span><br /><div><span style="background-color: white;"><span style="font-family: Arial, Helvetica, sans-serif;"><br /></span></span></div><span style="background-color: white;"></span><br /><div><span style="background-color: white;"><span style="font-family: Arial, Helvetica, sans-serif;">Hopefully, the explanation here and sample app will help someone else avoid some of the struggles I faced.&nbsp;</span></span></div><span style="background-color: white;"></span><br /><div><span style="background-color: white;"><br /></span></div><span style="background-color: white;"></span></div>