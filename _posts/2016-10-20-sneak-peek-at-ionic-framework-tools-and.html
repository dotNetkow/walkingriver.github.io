---
layout: post
title: Sneak Peek at Ionic Framework Tools and Patterns
date: '2016-10-20T16:45:00.000-04:00'
author: Michael Callaghan
tags: 
modified_time: '2016-10-20T16:45:01.188-04:00'
thumbnail: https://i.ytimg.com/vi/KJc8xHUGW9w/0.jpg
blogger_id: tag:blogger.com,1999:blog-2890709913211146020.post-6678023906817110964
blogger_orig_url: http://www.walkingriver.com/2016/10/sneak-peek-at-ionic-framework-tools-and.html
---

<h2 style="clear: both; text-align: center;">Easily Send Text Messages from a Mobile App with Ionic Framework</h2><div class="separator" style="clear: both; text-align: center;"><iframe width="320" height="266" class="YOUTUBE-iframe-video" data-thumbnail-src="https://i.ytimg.com/vi/KJc8xHUGW9w/0.jpg" src="https://www.youtube.com/embed/KJc8xHUGW9w?feature=player_embedded" frameborder="0" allowfullscreen></iframe></div><br /><i>Note: This is a brief sample of my Pluralsight Course, <a href="https://goo.gl/1GixgD" rel="nofollow" target="_blank">Ionic Framework Tools and Patterns</a>. The text below is a rough transcript of the video shown here.</i><br /><br />http://ionicframework.com/docs/v2/native/sms/<br /><br />
<!--more-->
Every mobile phone knows how to send a text message. We can leverage that ability in our Ionic app by using the sms plugin. In the last section, we created a menu item to send a message to a student’s parent, but all it did was show a popup saying the message was sent. We can complete that functionality by wiring that up to the plugin now.<br /><br />First, let’s not forget to install the plugin:<br /><span style="font-family: Courier New, Courier, monospace;">gulp --cordova "plugin add cordova-sms-plugin --save"</span><br /><br />Next we’ll update the Roster controller to let the user enter the message to be sent. We’ll repurpose the $ionicpopup, and just change the show function to prompt, like so...<br /><br /><span style="font-family: Courier New, Courier, monospace;">&nbsp; &nbsp; function sendMessageToParent(student) {</span><br /><span style="font-family: Courier New, Courier, monospace;">&nbsp; &nbsp; &nbsp; $ionicPopup.prompt({</span><br /><span style="font-family: Courier New, Courier, monospace;">&nbsp; &nbsp; &nbsp; &nbsp; title: 'Message Parent',</span><br /><span style="font-family: Courier New, Courier, monospace;">&nbsp; &nbsp; &nbsp; &nbsp; template: 'Enter your message:',</span><br /><span style="font-family: Courier New, Courier, monospace;">&nbsp; &nbsp; &nbsp; &nbsp; inputType: 'text',</span><br /><span style="font-family: Courier New, Courier, monospace;">&nbsp; &nbsp; &nbsp; &nbsp; inputPlaceholder: 'Your message'</span><br /><span style="font-family: Courier New, Courier, monospace;">&nbsp; &nbsp; &nbsp; }).then(function (message) {</span><br /><span style="font-family: Courier New, Courier, monospace;">&nbsp; &nbsp; &nbsp; &nbsp; $cordovaSMS.send(student.phone, message)</span><br /><span style="font-family: Courier New, Courier, monospace;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .then(function () {</span><br /><span style="font-family: Courier New, Courier, monospace;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $log.log('Message sent.');</span><br /><span style="font-family: Courier New, Courier, monospace;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; });</span><br /><span style="font-family: Courier New, Courier, monospace;">&nbsp; &nbsp; &nbsp; });</span><br /><span style="font-family: Courier New, Courier, monospace;">&nbsp; &nbsp; }</span><br /><br />We’ll also need to inject the ionic-native service into the controller…<br /><br /><span style="font-family: Courier New, Courier, monospace;">.controller('RosterCtrl', function ($cordovaActionSheet, $cordovaSMS, $ionicPopup, $log, $stateParams,</span><br /><br />Now let’s build and run it in the iOS Simulator. One thing you’ll notice right away. The iOS Simulator cannot send texts, and informs of that fact when you try. Unfortunately, Ionic View can’t send texts either. To test this function, we need to do something we’ve managed to avoid until now. We have to install the app on a real device.<br /><br />This has always been a pretty simple task on Android, but until very recently, nearly impossible on an iPhone. Starting with Xcode 7, Apple made it possible to install an iOS app directly onto a connected device.<br /><br />See https://blog.ionic.io/deploying-to-a-device-without-an-apple-developer-account/<br /><br />There are still some hoops you need to jump through, and they are beyond the scope of this course. Fortunately, the Ionic team has published a blog entry describing everything you need to do. Once you’ve done this, you can continue with the rest of this video.<br /><br />To see this plugin work on Android, the command you’ll want to use is<br /><span style="font-family: Courier New, Courier, monospace;">cordova run android</span><br /><br />We can pass the run android command to our gulp build using<br /><span style="font-family: Courier New, Courier, monospace;">gulp --cordova&nbsp;</span><span style="font-family: &quot;Courier New&quot;, Courier, monospace;">"</span><span style="font-family: &quot;Courier New&quot;, Courier, monospace;">run android"</span><span style="font-family: &quot;Courier New&quot;, Courier, monospace;">&nbsp;--env=ios-sim</span><br /><br />To run it on an iPhone, we’ll need to do something slightly different. The command is<br /><span style="font-family: Courier New, Courier, monospace;">gulp --cordova&nbsp;</span><span style="font-family: &quot;Courier New&quot;, Courier, monospace;">"</span><span style="font-family: &quot;Courier New&quot;, Courier, monospace;">prepare ios</span><span style="font-family: &quot;Courier New&quot;, Courier, monospace;">"</span><span style="font-family: &quot;Courier New&quot;, Courier, monospace;">&nbsp;--env=ios-sim</span><br /><br /><br />When that command completes, there will be an Xcode project in platforms/ios. To launch the app on a connected iPhone, you need to open that project and click the run button.<br /><br />To send a text, we’ll need to make sure that at least one of our students has a valid phone number, and not the default test data we started with. I’ll do that now with one of my students while you do the same for one of yours.<br /><br />We’re going to see a little quirk in the way iOS apps behave compared to Android apps. Apple won’t allow an app to send a text message without displaying the native SMS composer. This ensures that a rogue app can’t send texts without the user’s knowledge and consent.<br /><br />Let’s send a hello message to the parent, and see what happens. In my case, I decided to send the message to myself, so that we would see the result almost immediately.<br /><br />And that’s how easy it is to send a text.<br /><br />